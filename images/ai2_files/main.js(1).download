function d(){import.meta.url,import("_").catch(()=>1);async function*n(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function s({version:n,betas:t}){if(!t||t.length===0)return n;let e=0;const c=Math.floor(Math.random()*100);for(let r=0;r<t.length;r++){const o=t[r];if(c<e+o.trafficPercentage)return o.version;e=e+o.trafficPercentage}return n}function f(){try{return window.self!==window.top}catch(n){return!0}}function u({version:n,betas:t}){if(f())return{name:n,version:n};const e=s({version:n,betas:t});return e===n?{name:n,version:n}:Math.floor(Math.random()*100)<50?{name:`${e}-beta-test`,version:e}:{name:`${e}-beta-control`,version:n}}function a({name:n,version:t}){const e=document.createElement("script");let c=`/static/js/app${window.__vite_is_modern_browser?"":"-legacy"}.${t}.js`;({}).VITE_CI_BUILD&&(c="/static/js/app.js"),e.type="module",e.src=c,e.defer=!0,e.setAttribute("data-grow-me-beta-name",n),e.setAttribute("data-grow-me-beta-version",t),document.head.appendChild(e)}function l(){const n="https://api.grow.me";if(window.location.search)try{const e=new URLSearchParams(window.location.search).get("growMeVersion");if(e==="off")return;if(e){a({name:"local",version:e});return}}catch(t){}return fetch(`${n}/login-versions`).then(t=>{if(!t.ok)throw new Error("Failed to fetch versions");return t.json()}).then(t=>{const e=u(t);a(e)}).catch(t=>{console.error(t)})}l();export{d as __vite_legacy_guard};
